<!DOCTYPE html>
<html class="light" lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title th:text="${group.groupName}">HotOrNot Group Details</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ed462c",
                        "primary-gradient-start": "#F73B20",
                        "primary-gradient-end": "#FF6B5A",
                        "background-light": "#ffffff",
                        "background-dark": "#18181b",
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.5rem",
                        "lg": "1rem",
                        "xl": "1.5rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        .gradient-header {
            background: linear-gradient(135deg, #F73B20 0%, #FF6B5A 100%);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        .orb-1 {
            position: fixed;
            top: 20%;
            left: -10%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(237, 70, 44, 0.08) 0%, rgba(255, 255, 255, 0) 70%);
            z-index: -1;
        }

        .orb-2 {
            position: fixed;
            bottom: 10%;
            right: -10%;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(255, 107, 90, 0.08) 0%, rgba(255, 255, 255, 0) 70%);
            z-index: -1;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
    </style>
    <style>
        body {
            min-height: max(884px, 100dvh);
        }
    </style>
</head>

<body
    class="bg-background-light dark:bg-background-dark font-display text-[#181211] dark:text-white min-h-screen pb-32">
    <!-- Decorative Background -->
    <div class="orb-1"></div>
    <div class="orb-2"></div>

    <!-- Header Section -->
    <header class="gradient-header pt-12 pb-8 px-6 text-white sticky top-0 z-50 shadow-lg">
        <div class="flex items-center justify-between mb-4">
            <button onclick="window.location.href='/groups'"
                class="size-10 flex items-center justify-center bg-white/20 rounded-full backdrop-blur-md">
                <span class="material-symbols-outlined">arrow_back_ios_new</span>
            </button>
            <button class="size-10 flex items-center justify-center bg-white/20 rounded-full backdrop-blur-md">
                <span class="material-symbols-outlined">more_horiz</span>
            </button>
        </div>
        <div class="flex flex-col items-start">
            <h1 class="text-3xl font-extrabold tracking-tight" th:text="${group.groupName}">The Elite Squad</h1>
            <p class="text-white/80 font-medium text-sm flex items-center gap-1 mt-1">
                <span class="material-symbols-outlined text-[16px]">group</span>
                <span th:text="${group.membersCount} + ' Members'">1,240 Members</span>
            </p>
        </div>
    </header>

    <!-- Content Area -->
    <main class="px-4 -mt-6 relative z-10">
        <!-- Profile & Stats Card -->
        <div
            class="bg-white dark:bg-zinc-900 rounded-xl shadow-xl p-6 mb-6 border border-zinc-100 dark:border-zinc-800">
            <div class="flex flex-col items-center">
                <div class="relative mb-6">
                    <div class="size-32 rounded-full border-4 border-primary p-1">
                        <div class="w-full h-full rounded-full bg-cover bg-center"
                            th:style="'background-image: url(' + @{/groups/photo/{id}(id=${group.groupId})} + ')'"
                            data-alt="Group profile image">
                        </div>
                    </div>
                    <div
                        class="absolute bottom-0 right-0 bg-primary text-white size-8 rounded-full flex items-center justify-center border-4 border-white dark:border-zinc-900">
                        <span class="material-symbols-outlined text-sm">verified</span>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 w-full">
                    <div
                        class="flex flex-col items-center justify-center p-4 rounded-lg bg-zinc-50 dark:bg-zinc-800 border border-zinc-100 dark:border-zinc-700">
                        <span class="text-zinc-500 text-xs font-bold uppercase tracking-wider mb-1">Group Score</span>
                        <span class="text-2xl font-extrabold text-primary"
                            th:text="${group.grpScore} + '/100'">98/100</span>
                    </div>
                    <div
                        class="flex flex-col items-center justify-center p-4 rounded-lg bg-zinc-50 dark:bg-zinc-800 border border-zinc-100 dark:border-zinc-700">
                        <span class="text-zinc-500 text-xs font-bold uppercase tracking-wider mb-1">Founded</span>
                        <span class="text-xl font-extrabold text-[#181211] dark:text-white"
                            th:text="${#temporals.format(group.creationDateTime, 'MMM yyyy')}">Jan 2024</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div
            class="sticky top-[168px] bg-white/80 dark:bg-zinc-900/80 backdrop-blur-md z-40 mb-4 rounded-lg overflow-hidden border border-zinc-100 dark:border-zinc-800 shadow-sm">
            <div class="flex">
                <button onclick="switchTab('details')" id="details-btn"
                    class="flex-1 py-4 text-sm font-extrabold text-zinc-400">Details</button>
                <button onclick="switchTab('members')" id="members-btn"
                    class="flex-1 py-4 text-sm font-extrabold text-primary border-b-4 border-primary bg-primary/5">Members</button>
                <button onclick="switchTab('chat')" id="chat-btn"
                    class="flex-1 py-4 text-sm font-extrabold text-zinc-400">Chat</button>
            </div>
        </div>

        <!-- Details Tab -->
        <div id="details-tab" class="tab-content">
            <div
                class="bg-white dark:bg-zinc-900 rounded-xl shadow-xl p-6 mb-6 border border-zinc-100 dark:border-zinc-800">
                <h3 class="text-lg font-extrabold mb-4">Group Information</h3>
                <div class="space-y-3">
                    <div class="flex justify-between items-center py-3 border-b border-zinc-100 dark:border-zinc-800">
                        <span class="text-zinc-500 text-sm font-bold">Group Score</span>
                        <span class="text-primary font-extrabold" th:text="${group.grpScore}">0</span>
                    </div>
                    <div class="flex justify-between items-center py-3 border-b border-zinc-100 dark:border-zinc-800">
                        <span class="text-zinc-500 text-sm font-bold">Total Members</span>
                        <span class="font-extrabold" th:text="${group.membersCount}">0</span>
                    </div>
                    <div class="flex justify-between items-center py-3">
                        <span class="text-zinc-500 text-sm font-bold">Created On</span>
                        <span class="font-extrabold"
                            th:text="${#temporals.format(group.creationDateTime, 'dd MMM yyyy')}">26 Dec 2024</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Members Tab -->
        <div id="members-tab" class="tab-content active">
            <!-- Members Section Header -->
            <div class="flex items-center justify-between px-2 mb-4">
                <h3 class="text-lg font-extrabold">Active Members</h3>
            </div>

            <!-- Empty State -->
            <div th:if="${#lists.isEmpty(members)}" class="flex flex-col items-center justify-center py-20">
                <span class="material-symbols-outlined text-6xl text-zinc-300 dark:text-zinc-700 mb-4">group</span>
                <p class="text-zinc-500 text-lg font-bold">No Members Yet</p>
                <p class="text-zinc-400 text-sm mt-2">Members will appear here</p>
            </div>

            <!-- Member List -->
            <div class="space-y-3">
                <div th:each="gm : ${members}"
                    class="flex items-center p-3 bg-white dark:bg-zinc-900 rounded-lg border border-zinc-100 dark:border-zinc-800 shadow-sm">
                    <div class="size-12 rounded-full bg-primary-gradient-start flex items-center justify-center text-white font-extrabold text-lg mr-4"
                        th:text="${gm.member.username.substring(0,1).toUpperCase()}">
                        U
                    </div>
                    <div class="flex-1">
                        <p class="font-bold text-[#181211] dark:text-white text-base" th:text="${gm.member.username}">
                            Username</p>
                        <p class="text-zinc-400 text-xs">
                            <span th:text="'@' + ${gm.member.username}">@username</span>
                            <span> â€¢ Joined </span>
                            <span th:text="${#temporals.format(gm.joinDateTime, 'dd MMM yyyy')}">Jan 2025</span>
                        </p>
                    </div>
                    <div class="flex gap-2">
                        <button
                            class="size-8 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center">
                            <span
                                class="material-symbols-outlined text-zinc-600 dark:text-zinc-300 text-[18px]">mail</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Tab -->
        <div id="chat-tab" class="tab-content">
            <div class="flex flex-col items-center justify-center py-20">
                <span
                    class="material-symbols-outlined text-6xl text-zinc-300 dark:text-zinc-700 mb-4">chat_bubble</span>
                <p class="text-zinc-500 text-lg font-bold">Chat Coming Soon</p>
                <p class="text-zinc-400 text-sm mt-2">Chat with group members</p>
            </div>
        </div>
    </main>

    <!-- Sticky Action Footer -->
    <div
        class="fixed bottom-0 left-0 right-0 p-6 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-xl border-t border-zinc-100 dark:border-zinc-800 z-[60] pb-10">
        <button
            class="w-full gradient-header text-white font-extrabold py-5 rounded-xl shadow-2xl shadow-primary/30 flex items-center justify-center gap-2 transform transition-transform active:scale-95">
            <span class="material-symbols-outlined text-xl">group_add</span>
            JOIN GROUP
        </button>
    </div>

    <script>
        function switchTab(tabName) {
            // Remove active class from all tabs
            document.querySelectorAll('#details-btn, #members-btn, #chat-btn').forEach(btn => {
                btn.classList.remove('text-primary', 'border-b-4', 'border-primary', 'bg-primary/5');
                btn.classList.add('text-zinc-400');
            });

            // Remove active class from all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // Add active class to clicked tab
            const activeBtn = document.getElementById(tabName + '-btn');
            activeBtn.classList.remove('text-zinc-400');
            activeBtn.classList.add('text-primary', 'border-b-4', 'border-primary', 'bg-primary/5');

            // Show corresponding tab content
            document.getElementById(tabName + '-tab').classList.add('active');
        }
    </script>
</body>

</html>