<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Details - HON</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: #fafafa;
        overflow-x: hidden;
    }

    /* Gradient background with floating orbs */
    .bg-gradient {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        overflow: hidden;
        background: #fafafa;
    }

    .gradient-orb {
        position: absolute;
        border-radius: 50%;
        filter: blur(100px);
        opacity: 0.1;
        animation: float 20s ease-in-out infinite;
    }

    .orb-1 {
        width: 600px;
        height: 600px;
        background: radial-gradient(circle, #F73B20, transparent);
        top: -10%;
        right: -10%;
        animation-duration: 25s;
    }

    .orb-2 {
        width: 500px;
        height: 500px;
        background: radial-gradient(circle, #ff5238, transparent);
        bottom: -15%;
        left: -10%;
        animation-duration: 20s;
        animation-delay: 2s;
    }

    .orb-3 {
        width: 400px;
        height: 400px;
        background: radial-gradient(circle, #F73B20, transparent);
        top: 40%;
        left: 50%;
        animation-duration: 18s;
        animation-delay: 1s;
    }

    @keyframes float {
        0%, 100% { transform: translate(0, 0) scale(1); }
        33% { transform: translate(50px, -80px) scale(1.1); }
        66% { transform: translate(-50px, 50px) scale(0.9); }
    }

    /* Header */
    .header {
        background: white;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        padding: 1rem 0;
        position: sticky;
        top: 0;
        z-index: 1000;
    }

    .header h1 {
        font-size: 1.75rem;
        font-weight: 700;
        color: #1a1a1a;
        margin: 0;
    }

    .user-avatar-header {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: linear-gradient(135deg, #F73B20, #ff5238);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
    }

    /* Sidebar */
    .sidebar {
        background: white;
        box-shadow: 2px 0 10px rgba(0,0,0,0.05);
        min-height: calc(100vh - 76px);
        padding: 2rem 1rem;
    }

    .nav-item {
        margin-bottom: 0.5rem;
    }

    .nav-link {
        color: #4a5568;
        padding: 0.875rem 1.25rem;
        border-radius: 0.75rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-weight: 500;
        transition: all 0.3s ease;
        text-decoration: none;
    }

    .nav-link i {
        font-size: 1.25rem;
        width: 24px;
    }

    .nav-link:hover {
        background: #f7f7f7;
        color: #F73B20;
    }

    .nav-link.active {
        background: linear-gradient(135deg, #F73B20, #ff5238);
        color: white;
        box-shadow: 0 4px 15px rgba(247, 59, 32, 0.3);
    }

    /* Main Content */
    .main-content {
        padding: 2rem;
        min-height: calc(100vh - 76px);
    }

    /* Back Button */
    .back-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: #4a5568;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.875rem;
        margin-bottom: 1.5rem;
        transition: all 0.3s ease;
    }

    .back-btn:hover {
        color: #F73B20;
        transform: translateX(-5px);
    }

    /* Profile Header Card */
    .profile-header-card {
        background: white;
        border-radius: 1rem;
        padding: 2rem;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        margin-bottom: 2rem;
    }

    .profile-header-content {
        display: flex;
        align-items: start;
        gap: 2rem;
        flex-wrap: wrap;
    }

    .profile-photo-large {
        width: 120px;
        height: 120px;
        border-radius: 1rem;
        object-fit: cover;
        border: 3px solid #f0f0f0;
        flex-shrink: 0;
    }

    .profile-photo-placeholder-large {
        width: 120px;
        height: 120px;
        border-radius: 1rem;
        background: linear-gradient(135deg, #F73B20, #ff5238);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 700;
        font-size: 3rem;
        flex-shrink: 0;
    }

    .profile-info {
        flex: 1;
        min-width: 250px;
    }

    .profile-name {
        font-size: 2rem;
        font-weight: 700;
        color: #1a1a1a;
        margin-bottom: 0.5rem;
    }

    .profile-username {
        font-size: 1.125rem;
        color: #6b7280;
        margin-bottom: 1rem;
    }

    .profile-stats {
        display: flex;
        gap: 2rem;
        margin-bottom: 1.5rem;
        flex-wrap: wrap;
    }

    .stat-item {
        text-align: center;
    }

    .stat-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: #F73B20;
        display: block;
    }

    .stat-label {
        font-size: 0.875rem;
        color: #6b7280;
        font-weight: 500;
    }

    .profile-actions {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
    }

    .btn-action {
        padding: 0.75rem 1.5rem;
        border-radius: 0.75rem;
        font-weight: 600;
        font-size: 0.875rem;
        border: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        transition: all 0.3s ease;
        cursor: pointer;
    }

    .btn-primary-action {
        background: linear-gradient(135deg, #F73B20, #ff5238);
        color: white;
    }

    .btn-primary-action:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(247, 59, 32, 0.3);
    }

    .btn-secondary-action {
        background: white;
        color: #4a5568;
        border: 2px solid #e5e7eb;
    }

    .btn-secondary-action:hover {
        border-color: #F73B20;
        color: #F73B20;
    }

    .btn-danger-action {
        background: #fee2e2;
        color: #991b1b;
    }

    .btn-danger-action:hover {
        background: #fecaca;
    }

    .btn-success-action {
        background: #d1fae5;
        color: #065f46;
    }

    .btn-success-action:hover {
        background: #a7f3d0;
    }

    /* Info Cards */
    .info-card {
        background: white;
        border-radius: 1rem;
        padding: 1.5rem;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        height: 100%;
    }

    .info-card-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1a1a1a;
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .info-card-title i {
        color: #F73B20;
    }

    .info-row {
        display: flex;
        padding: 1rem 0;
        border-bottom: 1px solid #f0f0f0;
    }

    .info-row:last-child {
        border-bottom: none;
    }

    .info-label {
        font-weight: 600;
        color: #6b7280;
        font-size: 0.875rem;
        min-width: 140px;
        flex-shrink: 0;
    }

    .info-value {
        color: #1a1a1a;
        font-size: 0.875rem;
        word-break: break-word;
    }

    /* Status Badge */
    .status-badge {
        padding: 0.375rem 0.875rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 600;
        display: inline-block;
    }

    .status-active {
        background: #d1fae5;
        color: #065f46;
    }

    .status-inactive {
        background: #fee2e2;
        color: #991b1b;
    }

    /* Badge List */
    .badge-list {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
        margin-top: 0.5rem;
    }

    .badge-item {
        background: linear-gradient(135deg, #fef3c7, #fde68a);
        color: #92400e;
        padding: 0.5rem 1rem;
        border-radius: 0.75rem;
        font-weight: 600;
        font-size: 0.875rem;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
    }

    .badge-item i {
        color: #f59e0b;
    }

    /* Bio Section */
    .bio-text {
        background: #f9fafb;
        padding: 1rem;
        border-radius: 0.75rem;
        color: #4a5568;
        font-size: 0.875rem;
        line-height: 1.6;
        font-style: italic;
    }

    /* Empty State */
    .empty-state {
        text-align: center;
        padding: 2rem;
        color: #9ca3af;
    }

    .empty-state i {
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    /* Streak Card */
    .streak-card {
        background: linear-gradient(135deg, #fef3c7, #fde68a);
        border-radius: 1rem;
        padding: 1.5rem;
        border: 2px solid #fbbf24;
    }

    .streak-icon {
        font-size: 2.5rem;
        color: #f59e0b;
        margin-bottom: 0.5rem;
    }

    .streak-value {
        font-size: 2rem;
        font-weight: 700;
        color: #92400e;
    }

    .streak-label {
        font-size: 0.875rem;
        color: #78350f;
        font-weight: 600;
    }

    /* Referral Section */
    .referral-code {
        background: linear-gradient(135deg, #dbeafe, #bfdbfe);
        border: 2px dashed #3b82f6;
        border-radius: 0.75rem;
        padding: 1rem;
        text-align: center;
        margin-top: 1rem;
    }

    .referral-code-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: #1e40af;
        letter-spacing: 2px;
    }

    /* Responsive */
    @media (max-width: 991.98px) {
        .sidebar {
            min-height: auto;
        }
        
        .main-content {
            padding: 1.5rem;
        }

        .profile-header-content {
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .profile-stats {
            justify-content: center;
        }

        .profile-actions {
            justify-content: center;
        }
    }

    @media (max-width: 767.98px) {
        .profile-name {
            font-size: 1.5rem;
        }

        .info-row {
            flex-direction: column;
            gap: 0.25rem;
        }

        .info-label {
            min-width: auto;
        }
    }
  </style>
</head>
<body>
<!-- Animated Background -->
<div class="bg-gradient">
  <div class="gradient-orb orb-1"></div>
  <div class="gradient-orb orb-2"></div>
  <div class="gradient-orb orb-3"></div>
</div>

<!-- Header -->
<header class="header">
  <div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center">
      <div class="d-flex align-items-center gap-3">
        <button class="btn d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar">
          <i class="fas fa-bars"></i>
        </button>
        <h1>HON Dashboard</h1>
      </div>
      <div class="user-avatar-header">A</div>
    </div>
  </div>
</header>

<div class="container-fluid">
  <div class="row">
    <!-- Sidebar for Desktop -->
    <div class="col-lg-3 col-xl-2 d-none d-lg-block p-0">
      <nav class="sidebar">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link" href="/admin/dashboard">
              <i class="fas fa-chart-line"></i>
              <span>Dashboard</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="/admin/hon/users">
              <i class="fas fa-users"></i>
              <span>HON Users</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/admin/reports">
              <i class="fas fa-file-alt"></i>
              <span>Report Section</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/admin/virtual/gift">
              <i class="fas fa-gift"></i>
              <span>Virtual Gift</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/admin/settings">
              <i class="fas fa-cog"></i>
              <span>Settings</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>

    <!-- Offcanvas Sidebar for Mobile -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebar">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title">Menu</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
      </div>
      <div class="offcanvas-body p-0">
        <nav class="sidebar">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link" href="/admin/dashboard">
                <i class="fas fa-chart-line"></i>
                <span>Dashboard</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/admin/hon/users">
                <i class="fas fa-users"></i>
                <span>HON Users</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/admin/reports">
                <i class="fas fa-file-alt"></i>
                <span>Report Section</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/admin/virtual/gift">
                <i class="fas fa-gift"></i>
                <span>Virtual Gift</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/admin/settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>

    <!-- Main Content -->
    <div class="col-lg-9 col-xl-10">
      <main class="main-content">
        <!-- Back Button -->
        <a href="/admin/hon/users" class="back-btn">
          <i class="fas fa-arrow-left"></i>
          Back to Users List
        </a>

        <!-- Profile Header Card -->
        <div class="profile-header-card">
          <div class="profile-header-content">
            <!-- Profile Photo -->
            <div>
              <img th:if="${user.profilePhoto != null}" 
                   th:src="@{'data:image/jpeg;base64,' + ${#strings.arrayToString(user.profilePhoto)}}" 
                   alt="User Photo" 
                   class="profile-photo-large">
              <div th:unless="${user.profilePhoto != null}" class="profile-photo-placeholder-large">
                <span th:text="${#strings.substring(user.username, 0, 1).toUpperCase()}">U</span>
              </div>
            </div>

            <!-- Profile Info -->
            <div class="profile-info">
              <h2 class="profile-name" th:text="${user.fullName}">Full Name</h2>
              <p class="profile-username">@<span th:text="${user.username}">username</span></p>

              <!-- Stats -->
              <div class="profile-stats">
                <div class="stat-item">
                  <span class="stat-value" th:text="${#numbers.formatDecimal(user.points, 1, 'COMMA', 0, 'POINT')}">0</span>
                  <span class="stat-label">Points</span>
                </div>
                <div class="stat-item">
                  <span class="stat-value" th:text="${user.post != null ? user.post.size() : 0}">0</span>
                  <span class="stat-label">Posts</span>
                </div>
                <div class="stat-item">
                  <span class="stat-value" th:text="${user.badge != null ? user.badge.size() : 0}">0</span>
                  <span class="stat-label">Badges</span>
                </div>
                <div class="stat-item">
                  <span class="stat-value" th:text="${user.referrals != null ? user.referrals.size() : 0}">0</span>
                  <span class="stat-label">Referrals</span>
                </div>
              </div>

              <!-- Action Buttons -->
              <div class="profile-actions">
                <form th:if="${user.status}" th:action="@{'/admin/hon/users/status/' + ${user.userId}}" method="post" style="margin: 0;">
                  <input type="hidden" name="status" value="false">
                  <button type="submit" class="btn-action btn-danger-action">
                    <i class="fas fa-ban"></i> Deactivate User
                  </button>
                </form>
                <form th:unless="${user.status}" th:action="@{'/admin/hon/users/status/' + ${user.userId}}" method="post" style="margin: 0;">
                  <input type="hidden" name="status" value="true">
                  <button type="submit" class="btn-action btn-success-action">
                    <i class="fas fa-check-circle"></i> Activate User
                  </button>
                </form>
                <button class="btn-action btn-secondary-action">
                  <i class="fas fa-envelope"></i> Send Message
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="row g-4">
          <!-- Personal Information -->
          <div class="col-lg-6">
            <div class="info-card">
              <h5 class="info-card-title">
                <i class="fas fa-user"></i>
                Personal Information
              </h5>
              <div class="info-row">
                <div class="info-label">Email</div>
                <div class="info-value" th:text="${user.email}">email@example.com</div>
              </div>
              <div class="info-row">
                <div class="info-label">Contact Number</div>
                <div class="info-value" th:text="${user.contactNo != null ? user.contactNo : 'Not provided'}">+1234567890</div>
              </div>
              <div class="info-row">
                <div class="info-label">Gender</div>
                <div class="info-value" th:text="${user.gender != null ? user.gender : 'Not specified'}">Male</div>
              </div>
              <div class="info-row">
                <div class="info-label">Date of Birth</div>
                <div class="info-value" th:text="${user.dateOfBirth != null ? #temporals.format(user.dateOfBirth, 'MMM dd, yyyy') : 'Not provided'}">Jan 01, 1990</div>
              </div>
              <div class="info-row">
                <div class="info-label">Age</div>
                <div class="info-value" th:text="${user.dateOfBirth != null ? (#temporals.year(#temporals.createNow()) - #temporals.year(user.dateOfBirth)) + ' years' : 'N/A'}">30 years</div>
              </div>
              <div class="info-row">
                <div class="info-label">Relationship Status</div>
                <div class="info-value" th:text="${user.relationshipStatus != null ? user.relationshipStatus : 'Not specified'}">Single</div>
              </div>
              <div class="info-row">
                <div class="info-label">Location</div>
                <div class="info-value" th:text="${user.jeoLocation != null ? user.jeoLocation : 'Not provided'}">City, Country</div>
              </div>
            </div>
          </div>

          <!-- Account Information -->
          <div class="col-lg-6">
            <div class="info-card">
              <h5 class="info-card-title">
                <i class="fas fa-id-card"></i>
                Account Information
              </h5>
              <div class="info-row">
                <div class="info-label">User ID</div>
                <div class="info-value" th:text="${user.userId}">#12345</div>
              </div>
              <div class="info-row">
                <div class="info-label">Join Date</div>
                <div class="info-value" th:text="${#temporals.format(user.joinDate, 'MMM dd, yyyy HH:mm')}">Jan 01, 2024 10:30</div>
              </div>
              <div class="info-row">
                <div class="info-label">Account Status</div>
                <div class="info-value">
                  <span class="status-badge" 
                        th:classappend="${user.status ? 'status-active' : 'status-inactive'}"
                        th:text="${user.status ? 'Active' : 'Inactive'}">
                    Active
                  </span>
                </div>
              </div>
              <div class="info-row">
                <div class="info-label">Login Provider</div>
                <div class="info-value" th:text="${user.loginProvider}">DEFAULT</div>
              </div>
              <div class="info-row">
                <div class="info-label">Profile Complete</div>
                <div class="info-value">
                  <span th:if="${user.completeProfile}" class="status-badge status-active">
                    <i class="fas fa-check"></i> Yes
                  </span>
                  <span th:unless="${user.completeProfile}" class="status-badge status-inactive">
                    <i class="fas fa-times"></i> No
                  </span>
                </div>
              </div>
              <div class="info-row">
                <div class="info-label">Roles</div>
                <div class="info-value">
                  <span th:each="role, iterStat : ${user.roleList}" 
                        class="badge-item" style="background: #e0e7ff; color: #3730a3;">
                    <i class="fas fa-shield-alt"></i>
                    <span th:text="${role}">USER</span>
                  </span>
                </div>
              </div>
            </div>
          </div>

          <!-- Bio -->
          <div class="col-12">
            <div class="info-card">
              <h5 class="info-card-title">
                <i class="fas fa-quote-left"></i>
                Bio
              </h5>
              <div class="bio-text" th:if="${user.bio != null and !user.bio.isEmpty()}" th:text="${user.bio}">
                User biography text goes here...
              </div>
              <div class="empty-state" th:unless="${user.bio != null and !user.bio.isEmpty()}">
                <i class="fas fa-comment-slash"></i>
                <p>No bio provided</p>
              </div>
            </div>
          </div>

          <!-- Streak Information -->
          <div class="col-lg-4">
            <div class="streak-card">
              <div class="text-center">
                <div class="streak-icon">ðŸ”¥</div>
                <div class="streak-value" th:text="${user.streakDays}">0</div>
                <div class="streak-label">DAY STREAK</div>
              </div>
              <hr style="border-color: #fbbf24; margin: 1rem 0;">
              <div class="d-flex justify-content-around text-center">
                <div>
                  <div class="stat-value" style="font-size: 1.25rem;" th:text="${user.streakWeeks}">0</div>
                  <div class="stat-label" style="color: #78350f;">Weeks</div>
                </div>
                <div>
                  <div class="stat-value" style="font-size: 1.25rem;" th:text="${user.currentPointsPerPost}">0</div>
                  <div class="stat-label" style="color: #78350f;">Points/Post</div>
                </div>
              </div>
              <div class="info-row" style="border-bottom: none; padding: 0.75rem 0 0 0;">
                <div class="info-label" style="color: #78350f;">Last Post Date</div>
                <div class="info-value" style="color: #92400e; font-weight: 600;" 
                     th:text="${user.lastPostDate != null ? #temporals.format(user.lastPostDate, 'MMM dd, yyyy') : 'Never posted'}">
                  Jan 01, 2024
                </div>
              </div>
            </div>
          </div>

          <!-- Mystery Boosts -->
          <div class="col-lg-4">
            <div class="info-card">
              <h5 class="info-card-title">
                <i class="fas fa-gift"></i>
                Mystery Boosts
              </h5>
              <div class="text-center py-3">
                <div class="stat-value" style="font-size: 3rem; color: #8b5cf6;" th:text="${user.mysteryBoostsGiven}">0</div>
                <div class="stat-label">Boosts Given</div>
              </div>
              <div class="info-row" th:if="${user.beforeMysteryBoostPoint != null}">
                <div class="info-label">Before Boost</div>
                <div class="info-value" th:text="${#numbers.formatDecimal(user.beforeMysteryBoostPoint, 1, 'COMMA', 0, 'POINT')}">0</div>
              </div>
              <div class="info-row">
                <div class="info-label">Popup Shown</div>
                <div class="info-value">
                  <span th:if="${user.mysteryBoostsPopup}" class="status-badge status-active">Yes</span>
                  <span th:unless="${user.mysteryBoostsPopup}" class="status-badge status-inactive">No</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Referral Information -->
          <div class="col-lg-4">
            <div class="info-card">
              <h5 class="info-card-title">
                <i class="fas fa-users"></i>
                Referral Information
              </h5>
              <div class="info-row">
                <div class="info-label">Referral Code</div>
                <div class="info-value">
                  <strong th:text="${user.referralCode != null ? user.referralCode : 'Not generated'}">CODE123</strong>
                </div>
              </div>
              <div class="info-row">
                <div class="info-label">Referred By</div>
                <div class="info-value">
                  <span th:if="${user.referredBy != null}">
                    <a th:href="@{'/admin/hon/users/view/' + ${user.referredBy.userId}}" 
                       th:text="${user.referredBy.username}"
                       style="color: #F73B20; font-weight: 600; text-decoration: none;">
                      username
                    </a>
                  </span>
                  <span th:unless="${user.referredBy != null}">Direct signup</span>
                </div>
              </div>
              <div class="info-row">
                <div class="info-label">Referral Popup</div>
                <div class="info-value">
                  <span th:if="${user.referredByPopup}" class="status-badge status-active">Shown</span>
                  <span th:unless="${user.referredByPopup}" class="status-badge status-inactive">Not Shown</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Birthday Information -->
          <div class="col-lg-6">
            <div class="info-card">
              <h5 class="info-card-title">
                <i class="fas fa-birthday-cake"></i>
                Birthday Information
              </h5>
              <div class="info-row">
                <div class="info-label">Birthday Celebrated</div>
                <div class="info-value" 
                     th:text="${user.isBirthdayCelebrate != null ? #temporals.format(user.isBirthdayCelebrate, 'MMM dd, yyyy') : 'Not celebrated'}">
                  Never
                </div>
              </div>
              <div class="info-row">
                <div class="info-label">Last Birthday Update</div>
                <div class="info-value" 
                     th:text="${user.lastBirthdayUpdate != null ? #temporals.format(user.lastBirthdayUpdate, 'MMM dd, yyyy') : 'Never updated'}">
                  Never
                </div>
              </div>
            </div>
          </div>

          <!-- Badges -->
          <div class="col-lg-6">
            <div class="info-card">
              <h5 class="info-card-title">
                <i class="fas fa-medal"></i>
                Badges (<span th:text="${user.badge != null ? user.badge.size() : 0}">0</span>)
              </h5>
              <div class="badge-list" th:if="${user.badge != null and !user.badge.isEmpty()}">
                <span class="badge-item" th:each="badge : ${user.badge}">
                  <i class="fas fa-award"></i>
                  <span th:text="${badge.badgeName}">Badge Name</span>
                </span>
              </div>
              <div class="empty-state" th:unless="${user.badge != null and !user.badge.isEmpty()}">
                <i class="fas fa-medal"></i>
                <p>No badges earned yet</p>
              </div>
            </div>
          </div>

          <!-- Activity Statistics -->
          <div class="col-12">
            <div class="info-card">
              <h5 class="info-card-title">
                <i class="fas fa-chart-bar"></i>
                Activity Statistics
              </h5>
              <div class="row g-4">
                <div class="col-md-3">
                  <div class="text-center p-3">
                    <div class="stat-value" style="color: #3b82f6;" th:text="${user.post != null ? user.post.size() : 0}">0</div>
                    <div class="stat-label">Total Posts</div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="text-center p-3">
                    <div class="stat-value" style="color: #10b981;" th:text="${user.userFrom != null ? user.userFrom.size() : 0}">0</div>
                    <div class="stat-label">Ratings Given</div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="text-center p-3">
                    <div class="stat-value" style="color: #f59e0b;" th:text="${user.userTo != null ? user.userTo.size() : 0}">0</div>
                    <div class="stat-label">Ratings Received</div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="text-center p-3">
                    <div class="stat-value" style="color: #8b5cf6;" th:text="${user.streakHistory != null ? user.streakHistory.size() : 0}">0</div>
                    <div class="stat-label">Streak Records</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Referrals List -->
          <div class="col-12" th:if="${user.referrals != null and !user.referrals.isEmpty()}">
            <div class="info-card">
              <h5 class="info-card-title">
                <i class="fas fa-user-friends"></i>
                Referred Users (<span th:text="${user.referrals.size()}">0</span>)
              </h5>
              <div class="table-responsive">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Username</th>
                      <th>Full Name</th>
                      <th>Join Date</th>
                      <th>Status</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr th:each="referral : ${user.referrals}">
                      <td th:text="${referral.username}">username</td>
                      <td th:text="${referral.fullName}">Full Name</td>
                      <td th:text="${#temporals.format(referral.joinDate, 'MMM dd, yyyy')}">Jan 01, 2024</td>
                      <td>
                        <span class="status-badge" 
                              th:classappend="${referral.status ? 'status-active' : 'status-inactive'}"
                              th:text="${referral.status ? 'Active' : 'Inactive'}">
                          Active
                        </span>
                      </td>
                      <td>
                        <a th:href="@{'/admin/hon/users/view/' + ${referral.userId}}" 
                           class="btn btn-sm" 
                           style="background: #F73B20; color: white; padding: 0.375rem 0.75rem; border-radius: 0.5rem; text-decoration: none;">
                          <i class="fas fa-eye"></i> View
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

        </div>
      </main>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>